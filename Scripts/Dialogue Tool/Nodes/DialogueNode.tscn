[gd_scene load_steps=4 format=3 uid="uid://4e02c7vr5t87"]

[ext_resource type="Script" uid="uid://bhr38x108y05w" path="res://Scripts/Dialogue Tool/Nodes/DialogueNode.cs" id="1_yr26r"]

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_6veq1"]

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_gbyli"]
bg_color = Color(0.0491115, 0.212143, 0.2356, 1)

[node name="DialogueNode" type="GraphNode" node_paths=PackedStringArray("_nameBox", "_dialogueBox", "_textSpeedBox", "_portrait")]
offset_right = 504.0
offset_bottom = 296.0
resizable = true
title = "DIALOGUE_NODE_"
slot/0/left_enabled = false
slot/0/left_type = 0
slot/0/left_color = Color(1, 1, 1, 1)
slot/0/left_icon = null
slot/0/right_enabled = false
slot/0/right_type = 0
slot/0/right_color = Color(1, 1, 1, 1)
slot/0/right_icon = null
slot/0/draw_stylebox = true
slot/1/left_enabled = false
slot/1/left_type = 0
slot/1/left_color = Color(1, 1, 1, 1)
slot/1/left_icon = null
slot/1/right_enabled = false
slot/1/right_type = 0
slot/1/right_color = Color(1, 1, 1, 1)
slot/1/right_icon = null
slot/1/draw_stylebox = true
slot/2/left_enabled = false
slot/2/left_type = 0
slot/2/left_color = Color(1, 1, 1, 1)
slot/2/left_icon = null
slot/2/right_enabled = false
slot/2/right_type = 0
slot/2/right_color = Color(1, 1, 1, 1)
slot/2/right_icon = null
slot/2/draw_stylebox = true
script = ExtResource("1_yr26r")
_nameBox = NodePath("NameBox")
_dialogueBox = NodePath("HBoxContainer/DialogueVBoxContainer/DialogueBox")
_textSpeedBox = NodePath("HBoxContainer/DialogueVBoxContainer/TextSpeedHBoxContainer/TextSpeedBox")
_portrait = NodePath("HBoxContainer/PortraitVBoxContainer/PortraitBox/Portrait")

[node name="NameBox" type="LineEdit" parent="."]
layout_mode = 2
tooltip_text = "This determines the name of the character who says the dialogue text."
theme_override_font_sizes/font_size = 20
placeholder_text = "Character Name Here..."

[node name="HBoxContainer" type="HBoxContainer" parent="."]
layout_mode = 2

[node name="DialogueVBoxContainer" type="VBoxContainer" parent="HBoxContainer"]
layout_mode = 2
size_flags_horizontal = 3
theme_override_constants/separation = 0

[node name="DialogueBox" type="TextEdit" parent="HBoxContainer/DialogueVBoxContainer"]
layout_mode = 2
size_flags_horizontal = 3
size_flags_vertical = 3
tooltip_text = "This determines whats actually said for this sentence."
theme_override_font_sizes/font_size = 20
placeholder_text = "Dialogue Text Here..."
wrap_mode = 1
scroll_fit_content_height = true

[node name="TextSpeedHBoxContainer" type="HBoxContainer" parent="HBoxContainer/DialogueVBoxContainer"]
layout_mode = 2

[node name="TextSpeedLabel" type="Label" parent="HBoxContainer/DialogueVBoxContainer/TextSpeedHBoxContainer"]
layout_mode = 2
size_flags_horizontal = 2
text = "Text Speed:"
horizontal_alignment = 2

[node name="TextSpeedBox" type="SpinBox" parent="HBoxContainer/DialogueVBoxContainer/TextSpeedHBoxContainer"]
layout_mode = 2
size_flags_horizontal = 3
size_flags_vertical = 0
tooltip_text = "This determines the speed that each char of the text is being read. The lower the float, the faster the text speed."
max_value = 2.0
step = 0.1
value = 0.1
update_on_text_changed = true

[node name="PortraitVBoxContainer" type="VBoxContainer" parent="HBoxContainer"]
layout_direction = 2
layout_mode = 2

[node name="PortraitBox" type="Panel" parent="HBoxContainer/PortraitVBoxContainer"]
custom_minimum_size = Vector2(100, 130)
layout_mode = 2
theme_override_styles/panel = SubResource("StyleBoxFlat_6veq1")

[node name="Portrait" type="TextureRect" parent="HBoxContainer/PortraitVBoxContainer/PortraitBox"]
layout_mode = 0
offset_right = 129.0
offset_bottom = 130.0
expand_mode = 1

[node name="PortraitButton" type="Button" parent="HBoxContainer/PortraitVBoxContainer"]
layout_mode = 2
tooltip_text = "This determines what sprite is displayed for the current sentence."
text = "Choose Portrait
"

[node name="AddChoiceButton" type="Button" parent="."]
layout_mode = 2
size_flags_vertical = 10
tooltip_text = "Add a choice option to this sentence."
theme_override_font_sizes/font_size = 20
theme_override_styles/normal = SubResource("StyleBoxFlat_gbyli")
text = "+ Choice"

[connection signal="delete_request" from="." to="." method="_on_delete_request"]
[connection signal="dragged" from="." to="." method="_on_dragged"]
[connection signal="resize_request" from="." to="." method="_on_resize_request"]
[connection signal="text_changed" from="NameBox" to="." method="_on_name_box_text_changed"]
[connection signal="text_submitted" from="NameBox" to="." method="_on_name_box_text_submitted"]
[connection signal="text_changed" from="HBoxContainer/DialogueVBoxContainer/DialogueBox" to="." method="_on_dialogue_box_text_changed"]
[connection signal="value_changed" from="HBoxContainer/DialogueVBoxContainer/TextSpeedHBoxContainer/TextSpeedBox" to="." method="_on_text_speed_box_value_changed"]
[connection signal="pressed" from="HBoxContainer/PortraitVBoxContainer/PortraitButton" to="." method="_on_portrait_button_pressed"]
[connection signal="button_down" from="AddChoiceButton" to="." method="_on_add_choice_button_button_down"]
